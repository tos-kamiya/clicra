# clicra: コマンドラインクラフター

`clicra`は、ローカルの大規模言語モデル（LLM）を利用して、ユーザーが提供したタスクに基づいてコマンドラインを生成・分析するためのコマンドラインツールです。

## インストール

`clicra`は、`Ollama`を利用するため、事前にインストールする必要があります。`Ollama`の公式サイトの手順に従ってください。

1. Ollama(https://ollama.com/)にアクセスします。
2. Download セクションからインストーラをダウンロードします。
3. ダウンロードしたインストーラを実行します。

その後、`clicra`をインストールします。Pythonアプリケーション用のパッケージマネージャーである`pipx`を使用します：

```sh
pipx install clicra
```

アンインストールするには：

```sh
pipx uninstall clicra
```

## 使用方法

基本的な使い方としては、実現したいタスクをコマンドライン引数に渡して実行します。LLMにより必要なコマンドを生成されれば、それがクリップボードにコピーされます。

```sh
clicra [options] <task>
```

### オプション

- `-m, --model`： 使用するLLMを指定します（デフォルトは `llama3`）。
- `-f, --refer`： 指定されたコマンドを実行し、その出力をタスクのためののコンテキストとして使用します。
- `-M, --max-chars`: コマンドを実行したときの結果を最大で何文字までプロンプトに取り込むかを指定します（デフォルトは`2000`）。
- `-r, --run`： （クリップボードにコピーするのではなく）生成したコマンドを即座に実行します。エラーが発生した場合（終了コードが`0`以外の場合）には結果を分析します。
- `-s, --script`： コマンドではなくスクリプトを生成します。
- `p, --prompt`: ソリューションの説明を求めます（実験的な機能）。totはTree-of-Thoughtプロンプト、sbsはStep-by-Stepプロンプトを指定します。

### 実行例

TODOコメントを含むソースファイルを検索する場合、`ls`の出力をコンテキストとして提供することができます。これにより、`clicra`はディレクトリ構造やファイルの種類を認識します：

```sh
clicra "Find TODOs in source files" -f "ls"
```

## スクリーンショット

![](imgs/screenshot2.png)
